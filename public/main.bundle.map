{"version":3,"sources":["webpack:///./src/$_gendir async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/home/home.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/components/home/home.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/components/home/home.component.html","webpack:///./src/app/services/search.service.ts","webpack:///./src/app/services/validate.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 145;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_gendir async\n// module id = 145\n// module chunks = 1","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app works!';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport {HomeComponent} from \"./components/home/home.component\";\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {SearchService} from \"./services/search.service\";\nimport {ValidateService} from \"./services/validate.service\";\n\nconst appRoutes: Routes =  [\n  {path:'', component: HomeComponent}\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpModule,\n    RouterModule.forRoot(appRoutes),\n  ],\n  providers: [SearchService, ValidateService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component, OnInit} from '@angular/core';\nimport {SearchService} from \"../../services/search.service\";\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {ValidateService} from \"../../services/validate.service\";\n\n@Component({\n    selector: 'app-home',\n    templateUrl: './home.component.html',\n    styleUrls: ['./home.component.css'],\n})\nexport class HomeComponent implements OnInit {\n\n    searchForm: FormGroup;\n    number: String; // search field value binded\n    foundCompany = {\n      name: \"\",\n      province: \"\",\n      county: \"\",\n      city: \"\",\n      street: \"\",\n      postal: \"\"\n    };\n\n    alert: String = \"\";\n\n    constructor(\n      private searchService:SearchService,\n      private validateService:ValidateService,\n      private formBuilder:FormBuilder\n    ) {\n      this.searchForm = this.formBuilder.group({\n        search: ['', [Validators.required, Validators.minLength(7)]]\n      });\n    }\n\n    ngOnInit() {\n      // subscribing for form field changes\n      this.searchForm.valueChanges.subscribe(data => {\n        this.onSearchSubmit();\n      });\n    }\n    onSearchSubmit() { // when form is submitted we display also flashmessages\n        let obj = {\n          number: this.validateService.stripNonNumerics(this.searchForm.value.search) // stripping non-numerics\n        };\n      if (this.validateService.validateSearch(obj.number)) {\n        //save request attempt to db\n        this.searchService.saveRequest(obj).subscribe(data => {\n          console.log(data);\n        });\n        //check for company\n        this.searchService.getByNumber(obj).subscribe(data => {\n          if (data.success && null != data.company) {\n\n            this.foundCompany = data.company;\n            this.alertFeedback(\"Company details below\", true);\n\n          } else {\n            this.foundCompany = {name: \"\", province: \"\", county: \"\", city: \"\", street: \"\", postal: \"\"};\n            this.alertFeedback(\"No match found\", false);\n          }\n        });\n      } else {\n        this.alertFeedback(\"Check what you wrote\", false);\n      }\n    }\n    // alert msg function\n  alertFeedback(text, success) {\n    if (success) {\n      this.alert = \"<p class=\\\"alert alert-success text-center\\\">\\n\" + text+ \"\\n </p>\"\n    } else {\n      this.alert = \"<p class=\\\"alert alert-danger text-center\\\">\\n\" + text+ \"\\n </p>\"\n    }\n    setTimeout(()=> {\n      this.alert = \"\";\n    },3000);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/home/home.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 312\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/home/home.component.css\n// module id = 313\n// module chunks = 1","module.exports = \"<div style=\\\"margin-top: 4%;\\\" class=\\\"container\\\">\\n\\n  <router-outlet></router-outlet>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 314\n// module chunks = 1","module.exports = \"<div class=\\\"container\\\" style=\\\"background-color: whitesmoke\\\">\\n  <div class=\\\"container m-b-l\\\">\\n    <h4>Examples: <strong class=\\\"text-success\\\"> NIP 0000000000, KRS 0123456789, REGON 092312345</strong></h4>\\n    <form [formGroup]=\\\"searchForm\\\" class=\\\"m-t-l \\\" (submit)=\\\"onSearchSubmit()\\\">\\n      <label class=\\\"sr-only\\\" for=\\\"search\\\">NIP/REGON/KRS</label>\\n      <div class=\\\"input-group mb-2 mr-sm-2 mb-sm-0\\\">\\n        <input autocomplete=\\\"false\\\" formControlName=\\\"search\\\" name=\\\"number\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"search\\\" placeholder=\\\"NIP/REGON/KRS\\\">\\n        <button class=\\\"btn btn-secondary\\\" type=\\\"submit\\\">Search</button>\\n      </div>\\n    </form>\\n  </div>\\n  <div *ngIf=\\\"alert != ''\\\" [innerHTML]=\\\"alert\\\">\\n  </div>\\n  <hr>\\n  <div class=\\\"container m-b-l\\\">\\n    <h4 *ngIf=\\\"foundCompany.name != '';\\\">Company found:</h4>\\n    <form class=\\\"form-group m-t-m\\\">\\n      <label for=\\\"name\\\">Name</label>\\n      <input [(ngModel)]=\\\"foundCompany.name\\\" name=\\\"name\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\">\\n      <div class=\\\"form-group row m-t-s\\\">\\n        <div class=\\\"col-6\\\">\\n          <label for=\\\"province\\\">Province</label>\\n          <input [(ngModel)]=\\\"foundCompany.province\\\" name=\\\"province\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"province\\\">\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <label for=\\\"county\\\">County</label>\\n          <input [(ngModel)]=\\\"foundCompany.county\\\" name=\\\"county\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"county\\\">\\n        </div>\\n      </div>\\n      <label for=\\\"street\\\">Street</label>\\n      <input [(ngModel)]=\\\"foundCompany.street\\\" name=\\\"street\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"street\\\">\\n      <div class=\\\"form-group row m-t-s\\\">\\n        <div class=\\\"col-6\\\">\\n          <label for=\\\"city\\\">City</label>\\n          <input [(ngModel)]=\\\"foundCompany.city\\\" name=\\\"city\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"city\\\">\\n        </div>\\n        <div class=\\\"col-6\\\">\\n          <label for=\\\"postal\\\">Postal</label>\\n          <input [(ngModel)]=\\\"foundCompany.postal\\\" name=\\\"postal\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"postal\\\">\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/home/home.component.html\n// module id = 315\n// module chunks = 1","import { Injectable } from '@angular/core';\nimport {Http, Headers} from \"@angular/http\";\nimport 'rxjs/add/operator/map'\n\n@Injectable()\nexport class SearchService {\n\n  constructor(private http:Http) { }\n\n  getAll() {\n    let headers = new Headers();\n    headers.append('Content-Type','application/json');\n    let ep = this.prepEndpoint('api/companies/getAll');\n    return this.http.get(ep,{headers: headers})\n      .map(res => res.json());\n  }\n  getByNumber(number) {\n    let headers = new Headers();\n    headers.append('Content-Type','application/json');\n    let ep = this.prepEndpoint('api/companies/getByNumber');\n    return this.http.post(ep, number,{headers: headers})\n      .map(res => res.json());\n  }\n\n  // function that creates request in db\n  saveRequest(number) {\n    let headers = new Headers();\n    headers.append('Content-Type','application/json');\n    let ep = this.prepEndpoint('api/requests/addRequest');\n    return this.http.post(ep,number,{headers: headers})\n      .map(res => res.json());\n  }\n\n  prepEndpoint(ep){\n      return 'http://numberseeker.herokuapp.com/'+ep;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/search.service.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ValidateService {\n\n  constructor() { }\n\n  validateSearch(text){ // validate forms search field\n    if (text.length < 14 && text.length > 6) { // lets say minimum for searching is 6, and max length is 14 chars\n      return true;\n    } else {\n      return false;\n    }\n  }\n  stripNonNumerics(text) {\n    let stripped = text.replace(/\\D/g,''); // NIP can be in XXxxx-x.. format so were removing all non-numbers\n    return stripped;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/validate.service.ts"],"sourceRoot":""}